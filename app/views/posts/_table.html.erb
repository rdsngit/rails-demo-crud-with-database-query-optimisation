<% posts = local_assigns[:posts] || [] %>

<div id="posts" class="my-4">
  <table>
    <thead>
      <tr>
        <th>Post</th>
        <th>Comments</th>
        <th colspan="3">Actions</th>
      </tr>
    </thead>
    <% posts.each do |post| %>
      <tr>
        <td><%= post.name.upcase_first %></td>
        <td>
          <ul>
            <% post.comments.each do |comment| %>
              <li><%= comment.content.upcase_first %></li>
            <% end %>
          </ul>
        </td>
        <td><div class="px-1 py-3">
          <%= link_to 'Show', post, class: "button-success" %>
        </div></td>
        <td><div class="px-1 py-3">
          <%= link_to 'Edit', edit_post_path(post), class: "button-neutral" %>
        </div></td>
        <td><div class="p-1">
          <%= button_to 'Destroy', post, data: { confirm: 'Are you sure?' }, method: :delete, class: "button-danger" %>
        </div></td>
      </tr>
    <% end %>
  </table>
</div>
